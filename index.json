[{"uri":"https://johnxlivingston.github.io/Campagnodon/","title":"Campagnodon","tags":[],"description":"","content":"Campagnodon Plugin SPIP pour la gestion des campagnes d\u0026rsquo;adhésions et de dons.\nCe plugin s\u0026rsquo;interface avec le plugin Bank, et propose des formulaires d\u0026rsquo;adhésions et de dons.\nCe plugin a été développé pour les besoins d\u0026rsquo;Attac France, en remplacement du plugin souscription.\nContrairement au plugin souscription, le stockage et le traitement des données personnelles se fait dans un système distant, pour des raisons de compartimentation et de sécurisation. Dans le cas d\u0026rsquo;Attac France, ces données sont stockées et traitées via une instance CiviCRM (non accessible publiquement).\nPour l\u0026rsquo;instant, le code est conçu pour répondre aux besoins d\u0026rsquo;Attac France, et est notamment lié à CiviCRM (voir la documentation). Toutefois, le code essaie d\u0026rsquo;être le plus générique possible, et fait en sorte d\u0026rsquo;être face à étendre.\nPour la liste des versions disponibles, merci de vous référer au CHANGELOG.\n"},{"uri":"https://johnxlivingston.github.io/Campagnodon/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://johnxlivingston.github.io/Campagnodon/distant/civicrm/","title":"CiviCRM","tags":[],"description":"","content":"Le présent document indique comment installer un environnement de développement/test conforme à ce qu\u0026rsquo;utilise Attac.\nInstallation de CiviCRM buildkit CiviCRM fourni l\u0026rsquo;outils buildkit qui met à disposition un ensemble d\u0026rsquo;outils pour faciliter le déploiement d\u0026rsquo;instances CiviCRM sur une machine de développement.\nLa première étape est donc d\u0026rsquo;installer buildkit sur la machine de développement (ou dans une machine virtuelle).\nPour cela, suivre la documentation d\u0026rsquo;installation de buildkit.\nDéployer une instance CiviCRM CiviCRM doit être associé à un CRM. Chez Attac, il s\u0026rsquo;agit de Drupal 7. À l\u0026rsquo;heure où cette documentation est écrite, CiviCRM est dans la version 5.47.\nOn peut aisément utiliser l\u0026rsquo;utilitaire civibuild pour créer une instance CiviCRM vierge. Pour cela, se placer dans le dossier où l\u0026rsquo;on a intallé buildkit, puis:\n./bin/civibuild create dev_attac --type drupal-clean --url http://127.0.0.1:9900 --civi-ver 5.47 Dans la ligne ci-dessus, on choisi d\u0026rsquo;installer CiviCRM sur localhost, et le rendre accessible via le port 9900. Adaptez ceci à votre situation.\nLes identifiants pour s\u0026rsquo;y connecter seront affiché dans la console.\nNote: ce type d\u0026rsquo;installation vient avec des données d\u0026rsquo;exemple.\nConfigurations spécifiques de CiviCRM Le mode de fonctionnement pour Attac suppose les configurations ci-dessous.\nactiver le composant «civicampaign» (Administrer \u0026gt; Paramètres système \u0026gt; Composants) installer l\u0026rsquo;extension proca (télécharger dans le dossier des extensions, puis activer dans Administrer \u0026gt; Paramètres système \u0026gt; Extensions) Installer l\u0026rsquo;extension CiviCRM Campagnodon Allant de paire avec Campagnodon, il y a une Extension CiviCRM campagnodon-civicrm.\nPlacer les fichiers de l\u0026rsquo;extension dans le dossier des extensions du CiviCRM, puis aller dans l\u0026rsquo;interface d\u0026rsquo;administration Administrer \u0026gt; Paramètres système \u0026gt; Extension pour l\u0026rsquo;activer.\nIl faut ensuite obtenir des clés d\u0026rsquo;API CiviCRM, et les configurer coté SPIP. Pour obtenir les clés, on pourra par exemple installer l\u0026rsquo;extension API Key Management. Ensuite, aller sur la fiche contact de l\u0026rsquo;utilisateur admin qui servira (ce sont ses droits qui seront appliqués), ouvrir l\u0026rsquo;onglet «API Key», générer une nouvelle clé d\u0026rsquo;API. La clé de site, aussi nécessaire, est affichée sur le même écran.\n"},{"uri":"https://johnxlivingston.github.io/Campagnodon/distant/","title":"Systèmes distants","tags":[],"description":"","content":"Campagnodon s\u0026rsquo;interface avec un (ou plusieurs) système(s) distant(s).\nCampagnodon est conçu de sorte à permettre de facilement changer le système distant dans lequel les données personnelles vont être stockées.\nLes données personnelles ne seront pas stockées sur le système d\u0026rsquo;origine (SPIP).\nÀ la date de rédaction de la présente page, Attac France se sert de Campagnodon avec CiviCRM en backend.\n"},{"uri":"https://johnxlivingston.github.io/Campagnodon/tags/","title":"Tags","tags":[],"description":"","content":""}]